# Allure + Vitest: –∫–∞–∫ –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç—å –∞–≤—Ç–æ—Ç–µ—Å—Ç—ã –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

–ß—Ç–æ, –µ—Å–ª–∏ –±—ã –≤–∞—à–∏ –∞–≤—Ç–æ—Ç–µ—Å—Ç—ã —á–∏—Ç–∞–ª–∏—Å—å –∫–∞–∫ –∂–∏–≤–æ–π —Å—Ü–µ–Ω–∞—Ä–∏–π?  
–ß—Ç–æ, –µ—Å–ª–∏ –±—ã –≤ –∫–∞–∂–¥–æ–º –æ—Ç—á—ë—Ç–µ —à–∞–≥–∏ –±—ã–ª–∏ –ø—Ä–æ–∑—Ä–∞—á–Ω—ã, –º–µ—Ç–∫–∏ –ø—Ä–æ—Å—Ç–∞–≤–ª–µ–Ω—ã, –∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–æ–Ω—è—Ç–Ω–∞ –Ω–µ —Ç–æ–ª—å–∫–æ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É, –Ω–æ –∏ –±–∏–∑–Ω–µ—Å—É?

–¢–∞–∫ –º—ã –ø—Ä–∏—à–ª–∏ –∫ —Å–æ–∑–¥–∞–Ω–∏—é **Scenax** ‚Äî DSL-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞ –¥–ª—è —Ç–µ—Å—Ç–æ–≤ –Ω–∞ –±–∞–∑–µ Vitest –∏ Allure.

---

## üìë –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å—Ç–∞—Ç—å–∏

1. [–ò—Ç–µ—Ä–∞—Ü–∏—è 1: –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π DSL –¥–ª—è `testCase()`](#–∏—Ç–µ—Ä–∞—Ü–∏—è-1)
2. [–ò—Ç–µ—Ä–∞—Ü–∏—è 2: –ú–µ—Ç–∫–∏, `allureId`, `feature`, `severity`](#–∏—Ç–µ—Ä–∞—Ü–∏—è-2)
3. [–ò—Ç–µ—Ä–∞—Ü–∏—è 3: –ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–∞—Ü–∏—è `@TestCase.each()`](#–∏—Ç–µ—Ä–∞—Ü–∏—è-3)
4. [–ò—Ç–µ—Ä–∞—Ü–∏—è 4: `@Suite`, `@ParentSuite`, `@Layer`](#–∏—Ç–µ—Ä–∞—Ü–∏—è-4)
5. [–ò—Ç–µ—Ä–∞—Ü–∏—è 5: –ö–ª–∞—Å—Å—ã –∏ `runTestClass()`](#–∏—Ç–µ—Ä–∞—Ü–∏—è-5)
6. [–ò—Ç–µ—Ä–∞—Ü–∏—è 6: Lifecycle ‚Äî `@BeforeAll`, `@Setup` –∏ `@Context`](#–∏—Ç–µ—Ä–∞—Ü–∏—è-6)
7. [–ò—Ç–µ—Ä–∞—Ü–∏—è 7: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —à–∞–≥–∞–º–∏ –∏ Step Library](#–∏—Ç–µ—Ä–∞—Ü–∏—è-7)
8. [–ò—Ç–µ—Ä–∞—Ü–∏—è 8: `@AutoRun`, `@Step`, –≤—ã–Ω–æ—Å —à–∞–≥–æ–≤ –≤ –∫–ª–∞—Å—Å—ã](#–∏—Ç–µ—Ä–∞—Ü–∏—è-8)
9. [üõ†Ô∏è –ö–∞–∫ `scenax` –≤–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –≤ —Å—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π](#–∫–∞–∫-scenax-–≤–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è-–≤-—Å—Ç–µ–∫-—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π)
10. [üèÅ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ: –ø–æ—á–µ–º—É `scenax` ‚Äî —ç—Ç–æ –Ω–æ–≤—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç](#–∑–∞–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–∞—è-–º—ã—Å–ª—å)

## ü§Ø –ü—Ä–æ–±–ª–µ–º–∞

–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∞–≤—Ç–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –º–æ—â–Ω—ã ‚Äî –Ω–æ —Å–ª–∏—à–∫–æ–º –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–µ:

- `vitest.test()` –æ—Ç–ª–∏—á–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è unit-–ø—Ä–æ–≤–µ—Ä–æ–∫, –Ω–æ –ø–ª–æ—Ö–æ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è –Ω–∞ —Å–ª–æ–∂–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏
- –ú–µ—Ç–∫–∏ `label`, `feature`, `severity` –≤ Allure –ø–∏—à—É—Ç—Å—è –≤—Ä—É—á–Ω—É—é –∏ —Å–∫–ª–æ–Ω–Ω—ã –∫ –æ—à–∏–±–∫–∞–º
- –®–∞–≥–∏ (`allure.step`) –Ω–µ –≤–ª–æ–∂–µ–Ω—ã, –Ω–µ –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –∏ –Ω–µ —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω—ã
- –û–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –∫–æ–¥ —à–∞–≥–æ–≤ –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è –¥—É–±–ª–∏—Ä–æ–≤–∞—Ç—å –º–µ–∂–¥—É —Ç–µ—Å—Ç–∞–º–∏

–¢–µ—Å—Ç—ã –ø–µ—Ä–µ—Å—Ç–∞—é—Ç –±—ã—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π ‚Äî –æ–Ω–∏ —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –∫—É—á–µ–π –∫–æ–¥–∞, –≤ –∫–æ—Ç–æ—Ä–æ–º –ª–µ–≥–∫–æ –∑–∞–ø—É—Ç–∞—Ç—å—Å—è.

---

## üí° –ò–¥–µ—è

–ú—ã —Ö–æ—Ç–∏–º, —á—Ç–æ–±—ã —Ç–µ—Å—Ç –≤—ã–≥–ª—è–¥–µ–ª –∫–∞–∫ **–Ω–∞–º–µ—Ä–µ–Ω–∏–µ**, –∞ –Ω–µ –∫–∞–∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è.

```ts
testCase(
  '–°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è',
  { id: 'API-001', feature: 'Users', severity: 'critical' },
  async () => {
    const response = await step('POST /users', () =>
      axios.post('/users', { name: '–ò–≤–∞–Ω' })
    )
    attach('–û—Ç–≤–µ—Ç', response.data, 'application/json')
    expect(response.status).toBe(201)
  }
)
```

–≠—Ç–æ—Ç –∫–æ–¥ ‚Äî –Ω–µ –ø—Ä–æ—Å—Ç–æ –∞–≤—Ç–æ—Ç–µ—Å—Ç. –≠—Ç–æ —Å—Ü–µ–Ω–∞—Ä–∏–π. –≠—Ç–æ –¥–æ–∫—É–º–µ–Ω—Ç.

---

## üöÄ –ß—Ç–æ —Ç–∞–∫–æ–µ Scenax?

**Scenax** ‚Äî —ç—Ç–æ:

- DSL (—è–∑—ã–∫ –æ–ø–∏—Å–∞–Ω–∏—è —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤) –ø–æ–≤–µ—Ä—Ö `vitest` + `allure-js-commons`
- –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤ –∫–ª–∞—Å—Å–∞–º–∏, –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∞–º–∏ –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–∞—Ü–∏–µ–π
- –°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∞—Ü–∏—è —à–∞–≥–æ–≤, –≤–ª–æ–∂–µ–Ω–∏–π, –º–µ—Ç–∞–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
- –ß–∏—Å—Ç—ã–µ –æ—Ç—á—ë—Ç—ã Allure, –±–µ–∑ —Ä—É—á–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

---

## üìö –û —á—ë–º —ç—Ç–∞ —Å—Ç–∞—Ç—å—è

–ú—ã –ø–æ–∫–∞–∂–µ–º –ø—É—Ç—å ‚Äî –æ—Ç –ø—Ä–æ—Å—Ç–æ–≥–æ DSL –¥–æ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–≥–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞.  
–ö–∞–∂–¥–∞—è –∏—Ç–µ—Ä–∞—Ü–∏—è –±—É–¥–µ—Ç:

- –î–∞–≤–∞—Ç—å —Ä–µ–∞–ª—å–Ω—ã–π value (—à–∞–≥ –∑–∞ —à–∞–≥–æ–º)
- –°–æ–¥–µ—Ä–∂–∞—Ç—å —á–∏—Ç–∞–µ–º—ã–π –∫–æ–¥
- –ü–æ–¥–∫—Ä–µ–ø–ª—è—Ç—å—Å—è –∂–∏–≤—ã–º–∏ –ø—Ä–∏–º–µ—Ä–∞–º–∏

---

–í —Ñ–∏–Ω–∞–ª–µ –≤—ã –ø–æ–ª—É—á–∏—Ç–µ:

- üì¶ –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—É—é –±–∏–±–ª–∏–æ—Ç–µ–∫—É `scenax`
- üíª –û—Ç–∫—Ä—ã—Ç—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞ GitHub
- ‚úçÔ∏è –ì–æ—Ç–æ–≤—É—é —Å—Ç–∞—Ç—å—é –¥–ª—è –∫–æ–º–∞–Ω–¥—ã –∏–ª–∏ –•–∞–±—Ä–∞
- üî• –ò, –≤–æ–∑–º–æ–∂–Ω–æ, –Ω–æ–≤—ã–π –≤–∑–≥–ª—è–¥ –Ω–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

---

–ù–∞—á–Ω—ë–º.

