# ๐ ะะฐะบะปััะตะฝะธะต: ะฟะพัะตะผั `scenax` โ ััะพ ะฝะพะฒัะน ััะฐะฝะดะฐัั ะดะปั API-ัะตััะพะฒ ะฝะฐ Vitest

ะะพัะตะผั ะธัะตัะฐัะธะน. ะะฐะถะดะฐั โ ัะฐะณ ะบ ัะธัะฐะตะผัะผ, ััััะบัััะธัะพะฒะฐะฝะฝัะผ, ะดะตะบะปะฐัะฐัะธะฒะฝัะผ ัะตััะฐะผ, ะณะดะต ะบะพะด ััะฐะฝะพะฒะธััั ััะตะฝะฐัะธะตะผ, ะฐ ััะตะฝะฐัะธะน โ ัะฐัััั ะฟัะพะดัะบัะฐ.

ะะทะฝะฐัะฐะปัะฝะพ ะผั ะฟัะพััะพ ัะพัะตะปะธ ัะดะตะปะฐัั DSL-ะพะฑัััะบั ะฝะฐะด `vitest` ะธ `allure-js`, ััะพะฑั ัะปัััะธัั ัะธัะฐะตะผะพััั ะธ ะพััััะฝะพััั API-ัะตััะพะฒ. ะะพ ะฟะพ ะฟััะธ ะผั ะฟัะธัะปะธ ะบ **ะฐััะธัะตะบัััะฝะพะผั ะฟะฐััะตัะฝั**, ะบะพัะพัะพะณะพโฆ ะฝะต ัััะตััะฒะพะฒะฐะปะพ. ะั ะฝะต ะฝะฐัะปะธ ะฝะธ ะพะดะฝะพะณะพ ะณะพัะพะฒะพะณะพ ัะตัะตะฝะธั, ะบะพัะพัะพะต:

- ะดะฐะฒะฐะปะพ ะฑั ะดะตะบะปะฐัะฐัะธะฒะฝัะน DSL ะดะปั API-ััะตะฝะฐัะธะตะฒ ะฝะฐ TypeScript,
- ัััะพะธะปะพ ะฑั ัะตัั-ะบะตะนัั ะบะฐะบ ะบะปะฐััั ั ะฐะฝะฝะพัะธัะพะฒะฐะฝะฝัะผะธ ัะฐะณะฐะผะธ,
- ะฐะฒัะพะผะฐัะธัะตัะบะธ ะณะตะฝะตัะธัะพะฒะฐะปะพ ะฑั Allure-ะพััััั ะฑะตะท ะดัะฑะปะธัะพะฒะฐะฝะธั,
- ะผะฐัััะฐะฑะธัะพะฒะฐะปะพัั ะฑั ะฟะพ BDD-ะพะฑัะฐะทัั, ะฝะพ ะฑะตะท Gherkin.

ะขะฐะบ ัะพะดะธะปัั **`scenax`** โ ะฝะต ะฟัะพััะพ ะพะฑัััะบะฐ, ะฐ **ะพัะดะตะปัะฝะฐั ะฐััะธัะตะบัััะฐ** ะธ **open-source DSL-ััะตะนะผะฒะพัะบ** ะดะปั ะฟะพัััะพะตะฝะธั ัะตััะพะฒ ะฝะพะฒะพะณะพ ะฟะพะบะพะปะตะฝะธั.

---

## ๐ง ะงัะพ ะผั ะดะฐะปะธ ะฒะผะตััะพ "ะฟัะพััะพ ัะตััะพะฒ"

| ะัะปะพ                                     | ะกัะฐะปะพ                                      |
| ---------------------------------------- | ------------------------------------------ |
| `test(name, fn)`                         | `@TestCase()` โ ะดะตะบะปะฐัะฐัะธะฒะฝะพะต ะพะฟะธัะฐะฝะธะต     |
| `await step('...', () => ...)`           | `@Step()` โ ะฟะตัะตะธัะฟะพะปัะทัะตะผัะต ัะฐะณะธ          |
| `feature`, `label`, `severity` ะฒัััะฝัั   | `@Feature()`, `@Severity()` ะธ ั.ะด.         |
| ะขะตัั = ะพะดะฝะฐ ััะฝะบัะธั                      | ะขะตัั = ััััะบัััะฐ: ััะตะฝะฐัะธะน + ัะฐะณะธ + ะบะพะฝัะตะบัั |
| ะะพะบัะผะตะฝัะฐัะธั ะพัะดะตะปัะฝะพ                    | ะงะธัะฐะตะผัะน ัะตัั = ะดะพะบัะผะตะฝัะฐัะธั               |

---

## ๐ฅ ะงัะพ ะดะฐัั `scenax` ะฟััะผะพ ัะตะนัะฐั

- ๐งฉ ะงะธัะฐะตะผัะต API-ัะตััั, ะฝะฐะฟะธัะฐะฝะฝัะต ะบะฐะบ ััะตะฝะฐัะธะธ
- ๐ฏ ะขะพัะฝะฐั ะฟัะธะฒัะทะบะฐ ะบ Allure TestOps: `allureId`, `severity`, `feature`
- ๐ฆ ะกัะตะฝะฐัะฝัะต ัะฐะณะธ (`@Step`, `@Scenario`, `runSteps()`)
- ๐ง ะจะฐะณะธ ั ะบะพะฝัะตะบััะพะผ, ะฟะตัะตะดะฐะฒะฐะตะผัะผ ะฐะฒัะพะผะฐัะธัะตัะบะธ (`@Context()`)
- ๐งช ะะดะธะฝ DSL โ ะพะดะธะฝ ััะธะปั โ ะฒัั ะบะพะผะฐะฝะดะฐ ะฟะธัะตั ะพะดะธะฝะฐะบะพะฒะพ

---

## ๐ค ยซะะฐัะตะผ ะบะปะฐััั? ะัะต ััะพะดัั ะฒ ััะฝะบัะธะธ!ยป

ะะฐ, ะฒ UI-ััะตะนะผะฒะพัะบะฐั ััะฝะบัะธะธ ะฒััะตัะฝะธะปะธ ะบะปะฐััั โ ัะฐะผ ะฝัะถะฝะฐ ัะตะฐะบัะธะฒะฝะพััั, ะปะพะบะฐะปัะฝะพััั ะธ ะณะธะฑะบะพััั. ะะพ ะฒ ััะตะฝะฐัะฝะพะผ ัะตััะธัะพะฒะฐะฝะธะธ:

- ะะปะฐัั = ััะตะฝะฐัะธะน (UseCase)
- ะะตัะพะด = ัะฐะณ
- ะะตะบะพัะฐัะพั = ะดะตะบะปะฐัะฐัะธะฒะฝะพะต ะพะฟะธัะฐะฝะธะต ะฟะพะฒะตะดะตะฝะธั
- ะะพะฝัะตะบัั ะธ ัะฐััะธัะตะฝะธั ะธะฝัะตะณัะธัััััั ะตััะตััะฒะตะฝะฝะพ

๐ ะั ะฒะดะพัะฝะพะฒะธะปะธัั Serenity, NestJS ะธ Playwright, ะฝะพ ัะพะฑัะฐะปะธ ะธั ะปัััะตะต โ ะฒ class-based DSL ะฝะฐ TypeScript. ะััะธัะตะบัััะฝะพ, ะณะธะฑะบะพ, ัะธัะฐะตะผะพ.

---

## ๐ ะกัะฐะฒะฝะตะฝะธะต ั Vitest + Allure

| ะะฐัะฐะผะตัั              | Vitest + Allure                   | `scenax`                                 |
|-----------------------|-----------------------------------|------------------------------------------|
| ะะฐัะฐะผะตััะธะทะฐัะธั        | โ `test.each`                    | โ `@TestCase.each()` + ะผะตัะฐะธะฝัะพ         |
| ะกัััะบัััะฐ ัะฐะณะพะฒ       | โ๏ธ ะฒัััะฝัั ัะตัะตะท `step()`         | โ `@Step()` + `runSteps()`              |
| ะััะธัะตะบัััะฐ           | โ๏ธ flat-ััะฝะบัะธะธ                  | โ ััะตะฝะฐัะธะธ ะบะฐะบ ะบะปะฐััั                   |
| ะะพะฝัะตะบัั              | โ ััะบะฐะผะธ                        | โ ัะตัะตะท `@Context()`                    |
| ะกัะธะปั                 | ะฟัะพะธะทะฒะพะปัะฝัะน                     | ะตะดะธะฝัะน DSL-ััะธะปั                        |
| ะััััะฝะพััั            | ะทะฐะฒะธัะธั ะพั ะดะธััะธะฟะปะธะฝั            | ะฒัััะพะตะฝะฐ ะธ ััะฐะฝะดะฐััะธะทะธัะพะฒะฐะฝะฐ             |

---

## ๐งฑ ะงัะพ ะทะฐ ะฟะฐััะตัะฝ ะผั ัะตะฐะปะธะทะพะฒะฐะปะธ?

`scenax` ัะตะฐะปะธะทัะตั ะฐััะธัะตะบัััั, ะบะพัะพััั ะผั ะฝะฐะทัะฒะฐะตะผ **Scenario-oriented DSL**.

ะะดะพัะฝะพะฒะปะตะฝะพ:
- ๐ง **Serenity BDD** (Java): ะธะดะตั ัะฐะณะพะฒ ะธ ััะตะฝะฐัะธะตะฒ
- โ๏ธ **NestJS**: ะบะปะฐััั, ะดะตะบะพัะฐัะพัั, DI
- ๐งช **Playwright**: ะธะทะพะปััะธั, fixtures, ะบะพะฝัะตะบัั

ะะพ ะพะฑัะตะดะธะฝะตะฝะพ ะธ ัะฟัะพัะตะฝะพ ะดะปั TypeScript-ัะฐะทัะฐะฑะพัะบะธ:

- ะกัะตะฝะฐัะธะน = ะดะตะบะปะฐัะฐัะธะฒะฝัะน ะบะปะฐัั ั ะผะตัะฐ-ะธะฝัะพัะผะฐัะธะตะน
- ะะพะฒะตะดะตะฝะธะต = ัะฟัะฐะฒะปัะตััั ะผะตัะพะดะฐะผะธ + ะบะพะฝัะตะบััะพะผ
- ะจะฐะณะธ = ะฐะฝะฝะพัะธัะพะฒะฐะฝะฝัะต ะผะตัะพะดั, ะบะพัะพััะต ะปะตะณะบะพ ะฒัะทัะฒะฐัั
- ะะฐััะธัะตะฝะธะต = ัะตัะตะท ัะปะพะธ, DI ะธ ะบะปะฐััั ะฑะตะท ะผะฐะณะธะธ

๐ ะั ะฝะต ะฝะฐัะปะธ ะฝะธ ะพะดะฝะพะณะพ ะฐะฝะฐะปะพะณะฐ, ะบะพัะพััะน ะดะตะปะฐะป ะฑั ะฒัั ััะพ **ะฒ ะพะดะฝะพะผ DSL**.

---

## ๐ค ะัะพ ะดะพะปะถะตะฝ ะธัะฟะพะปัะทะพะฒะฐัั ััะพ ะฟััะผะพ ัะตะนัะฐั

- ะะพะผะฐะฝะดั, ะบะพัะพััะผ **ะฝัะถะตะฝ ัะธัะฐะตะผัะน Allure-ะพัััั**, ะฐ ะฝะต ะฝะฐะฑะพั `console.log`
- ะะพะผะฐะฝะดั, ะณะดะต **ะตััั TestOps ะธะปะธ QA**, ะบะพัะพััะผ ะฝัะถะตะฝ ะถะธะฒะพะน ััะตะฝะฐัะธะน
- ะััะธัะตะบัะพัั, ะบะพัะพััะต ัััะฐะปะธ ะพั `copy-paste` ัะฐะณะพะฒ ะฒ ัะตััะฐั
- ะะฐะทัะฐะฑะพััะธะบะธ, ะบะพัะพััะผ ะฒะฐะถะฝะพ ะฟะธัะฐัั **ัะธััะพ, ะฟัะตะดัะบะฐะทัะตะผะพ ะธ ะณะธะฑะบะพ**

---

## ๐ค ะััั ะปะธ ะฐะฝะฐะปะพะณะธ?

| ะะตัะตะฝะธะต           | ะฏะทัะบ  | ะัะปะธัะธั                                                        |
|-------------------|--------|-----------------------------------------------------------------|
| Serenity BDD      | Java   | ะกะปะพะถะฝัะน ะฒัะพะด, ะณัะพะผะพะทะดะบะฐั ััััะบัััะฐ                             |
| Playwright test   | TS     | ะคะพะบัั ะฝะฐ UI, ะฝะตั ััะตะฝะฐัะธะตะฒ-ะบะปะฐััะพะฒ                             |
| `vitest` + allure | TS     | ะะตั DSL, ะผะตัะฐ-ะธะฝัะพ ะธ ะฐะฒัะพะผะฐัะธะทะฐัะธะธ ััะตะฝะฐัะธะตะฒ                   |
| โ `scenax`        | TS     | ะัะพััะพะน DSL, ัะฐะณะธ + ััะตะฝะฐัะธะธ, class-based ะฐััะธัะตะบัััะฐ          |

---

## ๐ ะะพัะตะฝัะธะฐะป ัะฐะทะฒะธัะธั

`scenax` โ ััะพ ะฝะต ยซััะธะปะธัะฐยป. ะญัะพ **ะฑะธะฑะปะธะพัะตะบะฐ ัะตััะพะฒะพะน ะฐััะธัะตะบัััั**.

ะ ะฑัะดััะตะผ ะผั ะฟะปะฐะฝะธััะตะผ:

- ๐งฑ `StepLibrary()` โ lego-ะฑะปะพะบะธ ัะฐะณะพะฒ ะดะปั ะฟะตัะตะธัะฟะพะปัะทะพะฒะฐะฝะธั ะฒ ััะตะฝะฐัะธัั
- ๐งฌ `@Inject()` ะดะปั nested-ะธะฝัะตะบัะธะน ะธ dependency tree
- ๐ง ะะฝัะตะณัะฐัะธั ั UI/Playwright ัะตััะฐะผะธ ะฝะฐ ัะพะผ ะถะต DSL
- ๐ ะะฒัะพ-ััะตะบะธะฝะณ ััะฐัะธััะธะบะธ ัะฐะณะพะฒ, ััะตะฝะฐัะธะตะฒ ะธ ะฟะพะบัััะธั ัะตัะตะท Allure
- ๐๏ธ CLI ะธ VS Code ะฟะปะฐะณะธะฝั ะดะปั ะณะตะฝะตัะฐัะธะธ ัะฐะฑะปะพะฝะพะฒ ัะฐะณะพะฒ
- ๐งญ ะััะธัะตะบัััะฝัะต ะฟัะตัะตัั ะดะปั ะผะพะฝะพัะตะฟ, ะผะธะบัะพัะตัะฒะธัะพะฒ ะธ CI-ะธะฝัะตะณัะฐัะธะน

---

## ๐ฌ ะะฐะบะปััะธัะตะปัะฝะฐั ะผััะปั

> `scenax` โ ััะพ ะบะพะณะดะฐ API-ัะตัั ะฟัะตะฒัะฐัะฐะตััั ะฒ **ะฝะฐะผะตัะตะฝะธะต**,  
> ะบะพะณะดะฐ ััะตะฝะฐัะธะน ัะธัะฐะตััั ะบะฐะบ **ะดะพะบัะผะตะฝัะฐัะธั**,  
> ะธ ะบะพะณะดะฐ ะบะพะผะฐะฝะดะฐ ะฝะฐัะธะฝะฐะตั ะณะพะฒะพัะธัั ะฝะฐ **ะพะดะฝะพะผ ัะทัะบะต**.

ะัะปะธ ะฒั ัััะฐะปะธ ะพั ยซัะตััะพะฒ ัะฐะดะธ ัะตััะพะฒยป,  
ะตัะปะธ ะฒะฐะผ ะฝัะถะตะฝ **ะฒะฝััะฝัะน ะพัััั, ะถะธะฒะพะน DSL ะธ ะฐััะธัะตะบัััะฐ, ะบะพัะพัะฐั ะผะฐัััะฐะฑะธััะตััั** โ

**ะะพะฑัะพ ะฟะพะถะฐะปะพะฒะฐัั ะฒ `scenax`.**

๐ ะะพะฟัะพะฑัะน. ะะพะดะบะปััะธ. ะะพะบะฐะถะธ ะบะพะผะฐะฝะดะต โ ะธ ะฒั ัะถะต ะฝะต ะฒะตัะฝััะตัั ะฝะฐะทะฐะด.

---

๐ฆ GitHub: https://github.com/dmitry-nkt/scenax  
๐งช ะะพะบัะผะตะฝัะฐัะธั: ะฒ ะบะฐะถะดะพะผ ัะตััะต  
๐ ะฃััะฐะฝะพะฒะธ: `npm i -D scenax`
